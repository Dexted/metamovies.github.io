(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,a,t){e.exports=t.p+"static/media/close-cross.6724e280.svg"},129:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(21),i=t.n(c),o=(t(71),t(5)),l=t(17),s=t(47),m=t(8),d=t(15),u=t(3),g=t(13),p=t(49),v="bad3a9ccbe7a13d924f5dbbf7429c25f",E=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama",background:"#5264A5"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],f=[{id:10759,name:"Action&Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:10762,name:"Kids"},{id:9648,name:"Mystery"},{id:10763,name:"News"},{id:10764,name:"Reality"},{id:10765,name:"Sci-Fi&Fantasy"},{id:10766,name:"Soap"},{id:10767,name:"Talk"},{id:10768,name:"War&Politics"},{id:37,name:"Western"}],h=t.n(p)()({HIDE_MODAL:null,SHOW_MODAL:null,SET_VIDEO_KEY:null,SET_TRAILERS_DATA:null,ADD_TO_FAVORITIES:null,ADD_TO_WISHLIST:null,ADD_TO_WATCHED:null,REMOVE_FROM_FAVORITIES:null,REMOVE_FROM_WATCHED:null,REMOVE_FROM_WISHLIST:null}),y=t(50),_=t.n(y);function N(e){var a=e.title,t=e.name,n=e.original_title,r=e.original_name,c=e.adult,i=e.vote_average,o=(e.overview,e.poster_path),l=e.release_date,s=e.first_air_date,m=e.id,d=l||s||"",u=s?"tv":"movie",g=a||t||n||r,p=g.length<=14?g:g.slice(0,14)+"...",v=d.slice(0,4),E=function(e){var a=new Date;return Date.parse(e)>a.setMonth(a.getMonth()-4)}(d),f=o?"https://image.tmdb.org/t/p/w500".concat(o):"https://via.placeholder.com/190x285.png";return{key:m,originalTitle:g,shortTitle:p,year:v,new:E,mediaType:u,rating:Math.round(i),adult:c,poster:f,id:m}}var b=function(e,a){var t=a.id,n=a.mediaType;return e.filter(function(e){return e.id!==+t||e.mediaType!==n})},w=t(41),k=t(51),A={favorities:[],wishlist:[],watched:[]},T={showModal:!1,trailersData:{},currentVideoKey:0},C={key:"root",storage:t.n(k).a},O=Object(g.b)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h.ADD_TO_FAVORITIES:return Object(u.a)({},e,{favorities:[].concat(Object(d.a)(e.favorities),[a.item])});case h.REMOVE_FROM_FAVORITIES:var t=b(e.favorities,a.item);return Object(u.a)({},e,{favorities:t});case h.ADD_TO_WISHLIST:return Object(u.a)({},e,{wishlist:[].concat(Object(d.a)(e.wishlist),[a.item])});case h.REMOVE_FROM_WISHLIST:var n=b(e.wishlist,a.item);return Object(u.a)({},e,{wishlist:n});case h.ADD_TO_WATCHED:return Object(u.a)({},e,{watched:[].concat(Object(d.a)(e.watched),[a.item])});case h.REMOVE_FROM_WATCHED:var r=b(e.watched,a.item);return Object(u.a)({},e,{watched:r});default:return e}},trailersModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h.SHOW_MODAL:return Object(u.a)({},e,{showModal:!0});case h.HIDE_MODAL:return Object(u.a)({},T);case h.SET_VIDEO_KEY:return Object(u.a)({},e,{currentVideoKey:a.currentVideoKey});case h.SET_TRAILERS_DATA:return Object(u.a)({},e,{trailersData:a.trailersData});default:return e}}}),S=Object(w.a)(C,O),R=Object(g.c)(S,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),j=Object(w.b)(R),I=t(23),x=t(2),M=t(1),P=t(56),D=t.n(P),V=t(57),F=t.n(V),W=(t(79),function(e){return r.a.createElement("div",{className:"container"},e.children)}),L=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement(W,null,r.a.createElement("div",{className:"tech-links"},r.a.createElement("a",{href:"#"},r.a.createElement(M.a,{src:F.a,svgClassName:"github-icon"})),r.a.createElement("a",{href:"themoviedb.org"},r.a.createElement(M.a,{src:D.a,svgClassName:"powered-icon"})))))},U=t(58),B=t.n(U),Y=t(59),G=t.n(Y),H=t(60),Q=t.n(H),q=t(27),X=t.n(q),Z=t(28),K=t.n(Z),z=t(29),J=t.n(z),$=(t(80),t(61)),ee=t.n($),ae=t(16),te=t.n(ae),ne=function(e){return r.a.createElement(o.b,{className:"search-suggestion",to:{pathname:"/".concat(e.mediaType,"/").concat(e.id,"/").concat(e.caption.toLowerCase().replace(/\s+/g,"_"))},onClick:e.selectOption},r.a.createElement("div",{className:"search-suggestion__img"},r.a.createElement("img",{src:e.image,alt:e.caption})),r.a.createElement("div",{className:"search-suggestion__label"},r.a.createElement("div",{className:"title"},e.caption),r.a.createElement("div",{className:"details"},e.year&&r.a.createElement("div",{className:"year"},e.year),r.a.createElement("div",{className:"media-type"},e.mediaType),e.rating&&r.a.createElement("div",{className:"stars"},r.a.createElement(te.a,{count:5,half:!0,edit:!1,value:e.rating,size:18})))))},re=function(e){var a=r.a.useState(""),t=Object(x.a)(a,2),n=t[0],c=t[1],i=r.a.useState([]),o=Object(x.a)(i,2),l=o[0],s=o[1],m=function(){c(""),l([])};return r.a.useEffect(function(){n.length<3||fetch("https://api.themoviedb.org/3/search/multi?api_key=".concat(v,"&language=en-US&query=").concat(n,"&page=1&include_adult=false")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){return s(e.results)})},[n]),r.a.createElement("form",{className:l.length&&n.length>=3?"search-form search-form_active":"search-form"},r.a.createElement("div",{className:"search-group"},r.a.createElement("input",{type:"search",className:"search-input",onChange:function(e){c(e.target.value)},value:n,placeholder:"Search.."}),r.a.createElement("button",{type:"submit",className:"search-btn"},r.a.createElement(M.a,{svgClassName:"search-btn__icon",src:ee.a}))),r.a.createElement("div",{className:"search-suggestions"},n.length>=3&&l.slice(0,5).map(function(e){var a=function(e){var a=e.poster_path,t=e.profile_path,n=e.original_title,r=e.title,c=e.original_name,i=e.name,o=e.media_type,l=e.release_date,s=e.first_air_date,m=e.vote_average,d=e.id,u=o,g=t?"https://image.tmdb.org/t/p/w92/".concat(t):a?"https://image.tmdb.org/t/p/w92/".concat(a):_.a,p=s||l,v=new Date(p),E=n||r||i||c||i;return{id:d,mediaType:u,year:p?v.getFullYear():null,rating:m?Math.round(m)/2:null,image:g,caption:E=E.length>20?"".concat(E.slice(0,20),"..."):E}}(e),t=a.mediaType,n=a.year,c=a.rating,i=a.image,o=a.caption,l=a.id;return r.a.createElement(ne,{key:o,mediaType:t,year:n,rating:c,image:i,caption:o,id:l,selectOption:m})})))},ce=Object(m.b)(function(e){return e.lists})(function(e){var a=r.a.useRef(),t=r.a.useState(!1),n=Object(x.a)(t,2),c=n[0],i=n[1],l=function(e){a.current&&!a.current.contains(e.target)&&(a.current.classList.remove("navbar-menu__open"),i(!1))};return r.a.useEffect(function(){return c&&document.addEventListener("mousedown",l),function(){return document.removeEventListener("mousedown",l)}},[c]),r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"navbar-menu",ref:a},r.a.createElement("div",{className:"navbar-menu__sandwich",onClick:function(){a.current.classList.toggle("navbar-menu__open"),i(!0)}},r.a.createElement(M.a,{src:B.a,svgClassName:"sandwich__icon"})),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement(o.b,{className:"dropdown-menu__item",to:{pathname:"/movies"}},"Movies"),r.a.createElement(o.b,{className:"dropdown-menu__item",to:{pathname:"/tv_shows"}},"TV Shows"),r.a.createElement(o.b,{to:{pathname:"/genres"},className:"dropdown-menu__item"},"Genres"),r.a.createElement(o.b,{className:"dropdown-menu__item",to:{pathname:"/discover"}},"Discover"))),r.a.createElement("div",{className:"logo"},r.a.createElement(o.b,{to:{pathname:"/"}},r.a.createElement("img",{src:Q.a,alt:"logo.png",className:"logo__icon"}))),r.a.createElement("ul",{className:"nav-list"},r.a.createElement("li",{className:"nav-list__item"},r.a.createElement(o.b,{to:{pathname:"/movies"}},"Movies")),r.a.createElement("li",{className:"nav-list__item"},r.a.createElement(o.b,{to:{pathname:"/tv_shows"}},"TV Shows")),r.a.createElement("li",{className:"nav-list__item recommendations"},r.a.createElement(o.b,{to:{pathname:"/recommendations"}},"Recommendations"))),r.a.createElement(re,null),r.a.createElement("div",{className:"user-lists"},r.a.createElement(o.b,{to:{pathname:"/lists"},className:"btn user-lists__btn"},r.a.createElement(M.a,{src:G.a,svgClassName:"user-lists__icon"}),r.a.createElement("span",null,"Marked")),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("div",{className:"dropdown-menu__item"},r.a.createElement(M.a,{src:J.a,svgClassName:"dropdown-menu__icon"}),r.a.createElement("span",{className:"user-lists__link"},"Favorities")," ",r.a.createElement("span",{className:"count"},e.favorities.length)),r.a.createElement("div",{className:"dropdown-menu__item"},r.a.createElement(M.a,{src:K.a,svgClassName:"dropdown-menu__icon"}),r.a.createElement("span",{className:"user-lists__link"},"Wishlist")," ",r.a.createElement("span",{className:"count"},e.wishlist.length)),r.a.createElement("div",{className:"dropdown-menu__item"},r.a.createElement(M.a,{src:X.a,svgClassName:"dropdown-menu__icon"}),r.a.createElement("span",{className:"user-lists__link"},"Watched"),r.a.createElement("span",{className:"count"},e.watched.length)))))}),ie=function(){return r.a.createElement("header",{className:"header"},r.a.createElement(W,null,r.a.createElement(ce,null)))},oe=t(14),le=t.n(oe),se=function(e){return r.a.createElement("div",{className:"banner ".concat(e.extraClasses||""),style:{backgroundImage:"url(https://image.tmdb.org/t/p/original".concat(e.backdrop_path)}},r.a.createElement("div",{className:"banner__title"},r.a.createElement("div",{className:"title-text"},e.title)))},me=function(e){var a=r.a.useState(e.slides),t=Object(x.a)(a,2),n=t[0],c=t[1];return r.a.useEffect(function(){c(e.slides)},[e.slides.length]),e.slides.length?r.a.createElement(le.a,Object.assign({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,draggable:!0,arrows:!1,autoplay:!0},{className:"banner-slider"}),n.map(function(e){var a=N(e),t=(a.title,a.originalTitle),n=a.mediaType;return r.a.createElement(o.b,{className:"banner-slider__item",key:t,to:{pathname:"/".concat(n,"/").concat(e.id,"/").concat(t.toLowerCase().replace(/\s+/g,"_"))}},r.a.createElement(se,{backdrop_path:e.backdrop_path,title:t}))})):null},de=t(6),ue=t.n(de),ge=Object(m.b)(function(e){return e.lists})(function(e){var a=Object(u.a)({},e.data,{mediaType:e.mediaType}),t=function(a){return e.favorities.some(function(e){return e.id===a.id})},n=t(a);return r.a.createElement("div",{className:n?"add-to-list add-to-favorities add-to-list_active":"add-to-list add-to-favorities",onClick:function(){return function(e){t(e)?R.dispatch({type:h.REMOVE_FROM_FAVORITIES,item:e}):R.dispatch({type:h.ADD_TO_FAVORITIES,item:e})}(a)}},r.a.createElement(M.a,{src:J.a,svgClassName:"action-icon add-to-favorities__icon "}))}),pe=Object(m.b)(function(e){return e.lists})(function(e){var a=Object(u.a)({},e.data,{mediaType:e.mediaType}),t=function(a){return e.wishlist.some(function(e){return e.id===a.id})}(a);return r.a.createElement("div",{className:t?"add-to-wishlist add-to-list_active":"add-to-wishlist",onClick:function(){return function(e){t?R.dispatch({type:h.REMOVE_FROM_WISHLIST,item:e}):R.dispatch({type:h.ADD_TO_WISHLIST,item:e})}(a)}},r.a.createElement(M.a,{src:K.a,svgClassName:"action-icon add-to-wishlist__icon"}))}),ve=Object(m.b)(function(e){return e.lists})(function(e){var a=Object(u.a)({},e.data,{mediaType:e.mediaType}),t=function(a){return e.watched.some(function(e){return e.id===a.id})}(a);return r.a.createElement("div",{className:t?"add-to-watched add-to-list_active":"add-to-watched",onClick:function(){return function(e){t?R.dispatch({type:h.REMOVE_FROM_WATCHED,item:e}):R.dispatch({type:h.ADD_TO_WATCHED,item:e})}(a)}},r.a.createElement(M.a,{src:X.a,svgClassName:"action-icon add-to-watched__icon"}))}),Ee=t(63),fe=t.n(Ee),he=function(e){return r.a.createElement("div",{className:"play-trailer",onClick:function(){var a="https://api.themoviedb.org/3/".concat(e.mediaType,"/").concat(e.id,"/videos?api_key=").concat(v,"&language=en-US");fetch(a).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){return e.results}).then(function(e){if(e.length){R.dispatch({type:h.SET_VIDEO_KEY,currentVideoKey:e[0].key});var a={};e.forEach(function(e){"YouTube"===e.site&&(a[e.type]?a[e.type].push(e.key):(a[e.type]=[],a[e.type].push(e.key)))}),R.dispatch({type:h.SET_TRAILERS_DATA,trailersData:a})}}).then(R.dispatch({type:h.SHOW_MODAL}))}},r.a.createElement(M.a,{src:fe.a,svgClassName:"action-icon play-trailer__icon"}))},ye=function(e){var a=N(e.data);return r.a.createElement("div",{className:e.extraClasses?"movie-card "+e.extraClasses["movie-card"]:"movie-card"},r.a.createElement("div",{className:"marks"},a.new&&r.a.createElement("div",{className:"new"},"NEW!"),a.adult&&r.a.createElement("div",{className:"adult"},r.a.createElement("span",null,"18+"))),r.a.createElement("div",{className:"movie-card__actions"},r.a.createElement(ge,{data:e.data,mediaType:a.mediaType}),r.a.createElement(pe,{data:e.data,mediaType:a.mediaType}),r.a.createElement(ve,{data:e.data,mediaType:a.mediaType}),r.a.createElement(he,{id:a.id,mediaType:a.mediaType})),r.a.createElement(o.b,{className:"movie-card__img",to:{pathname:"/".concat(a.mediaType,"/").concat(a.id,"/").concat(a.originalTitle.toLowerCase().replace(/\s+/g,"_"))}},r.a.createElement("img",{src:a.poster,alt:a.shortTitle})),r.a.createElement("div",{className:"movie-card__info"},r.a.createElement("div",{className:"movie-card__title"},a.shortTitle),r.a.createElement("div",{className:"movie-card__stat"},r.a.createElement("div",{className:"year"},a.year," "),r.a.createElement("div",{className:"stars"},r.a.createElement(te.a,{count:5,half:!0,edit:!1,size:20,value:a.rating/2})))))},_e=function(e){var a=e.items||[],t=e.page%2!==0?a.slice(0,10):a.slice(10);return r.a.createElement("div",{className:"block-movies"},r.a.createElement("div",{className:"block-movies__header"},r.a.createElement("h1",{className:"title"},e.blockTitle),r.a.createElement("ul",{className:"categories block-movies__categories"},e.categories.map(function(a){return r.a.createElement("li",{key:a.categoryId,className:e.category===a.categoryId?"category category_active":"category","data-category-id":a.categoryId,onClick:e.changeCategory},a.categoryName)})),r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:e.page<=1?"control control-prev control__blocked":"control control-prev",onClick:e.openPrevPage},r.a.createElement(M.a,{src:ue.a,svgClassName:"left control__icon"})),r.a.createElement("div",{className:e.page>=1e3?"control control-next control__blocked":"control control-next",onClick:e.openNextPage},r.a.createElement(M.a,{src:ue.a,svgClassName:"right control__icon"})))),r.a.createElement("div",{className:"movies-container"},t.map(function(e){return r.a.createElement(ye,{key:e.id,data:e})})))},Ne=function(e){var a=e.genre.name.toLowerCase().replace(/\s+|\&/g,"-");return r.a.createElement(o.b,{to:{pathname:"/discover",state:{genres:[e.genre],mediaType:e.mediaType}},className:"genre genre-".concat(a)},r.a.createElement("div",{className:"genre-overlay"},r.a.createElement("div",{className:"genre__title"},e.genre.name.replace(/\&/,"\n&\n"))))},be=function(e){return r.a.createElement("div",{className:"genre-arrow arrow-next ",onClick:e.onClick},r.a.createElement(M.a,{src:ue.a,svgClassName:"genre-arrow__icon"}))},we=function(e){return r.a.createElement("div",{className:" genre-arrow arrow-prev",onClick:e.onClick},r.a.createElement(M.a,{src:ue.a,svgClassName:"genre-arrow__icon"}))},ke=function(e){var a={dots:!0,infinite:!0,speed:500,slidesToShow:6,slidesToScroll:6,draggable:!0,prevArrow:r.a.createElement(we,null),nextArrow:r.a.createElement(be,null)};return r.a.createElement("div",{className:"genres-block"},r.a.createElement("h1",null,e.name),r.a.createElement(le.a,a,e.genres.map(function(a){return r.a.createElement(Ne,{mediaType:e.mediaType,key:a.id,genre:a})})))},Ae=function(e){var a=e.items||[],t=e.page%2!==0?a.slice(0,10):a.slice(10,20);r.a.useRef(null),r.a.useRef(null);return r.a.createElement("div",{className:"block-trending"},r.a.createElement("div",{className:"block-movies__header"},r.a.createElement("h1",{className:"title"},"Trending"),r.a.createElement("div",{className:"categories-block"},r.a.createElement("ul",{className:"categories block-trending__categories"},e.categories["time-window"].map(function(a){var t=e["time-window"]===a.categoryId?"category category_active category":"category";return r.a.createElement("li",{className:t,key:a.categoryId,onClick:e.changeCategory,"data-category-type":"time-window","data-category-id":a.categoryId},a.categoryName)})),r.a.createElement("ul",{className:"categories block-trending__categories"},e.categories["media-type"].map(function(a){var t=e["media-type"]===a.categoryId?"category category_active category":"category";return r.a.createElement("li",{className:t,key:a.categoryId,onClick:e.changeCategory,"data-category-type":"media-type","data-category-id":a.categoryId},a.categoryName)}))),r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:e.page<=1?"control control-prev control__blocked":"control control-prev",onClick:e.openPrevPage},r.a.createElement(M.a,{src:ue.a,svgClassName:"left control__icon"})),r.a.createElement("div",{className:e.page>=1e3?"control control-next control__blocked":"control control-next",onClick:e.openNextPage},r.a.createElement(M.a,{src:ue.a,svgClassName:"right control__icon"})))),r.a.createElement("div",{className:"trending-container"},t.map(function(a,n){var c,i,o=N(a);return 0===n||n===t.length-1?(i=o.originalTitle.length<=14?o.originalTitle:o.originalTitle.slice(0,22)+"...",c={"movie-card":"movie-card_lg"}):(c={"movie-card":"movie-card_sm"},i=o.originalTitle.length<=14?o.originalTitle:o.originalTitle.slice(0,14)+"..."),r.a.createElement(ye,{data:a,key:a.id,shortTitle:i,playTrailers:e.playTrailers,extraClasses:c})})))},Te=function(e,a){return Object(u.a)({},e,a)};function Ce(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=r.a.useReducer(Te,{page:1,items:[],category:a,"media-type":"all","time-window":"day"}),n=Object(x.a)(t,2),c=n[0],i=n[1];return r.a.useEffect(function(){var a="trending"===e?"".concat(c["media-type"],"/").concat(c["time-window"]):c.category;fetch("https://api.themoviedb.org/3/".concat(e,"/").concat(a,"?api_key=").concat(v,"&language=en-US&page=").concat(Math.ceil(c.page/2))).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){return i({items:e.results})})},[c.page,c.category,c["media-type"],c["time-window"]]),Object(u.a)({openPrevPage:function(){c.page>1&&i({page:c.page-1})},openNextPage:function(){c.page<=1e3&&i({page:c.page+1})},changeCategory:function(e){var a;e.target.dataset.categoryType?i((a={},Object(I.a)(a,e.target.dataset.categoryType,e.target.dataset.categoryId),Object(I.a)(a,"page",1),a)):i({category:e.target.dataset.categoryId,page:1})}},c)}var Oe=function(){var e=Ce("movie","now_playing"),a=Ce("tv","on_the_air"),t=Ce("trending");return r.a.createElement(n.Fragment,null,r.a.createElement(ie,null),r.a.createElement(me,{slides:t.items}),r.a.createElement(W,null,r.a.createElement("div",{className:"main"},r.a.createElement(Ae,Object.assign({categories:{"time-window":[{categoryName:"Today",categoryId:"day"},{categoryName:"This week",categoryId:"week"}],"media-type":[{categoryName:"All",categoryId:"all"},{categoryName:"Movies",categoryId:"movie"},{categoryName:"TV Shows",categoryId:"tv"}]}},t)),r.a.createElement(_e,Object.assign({blockTitle:"Movies",categories:[{categoryName:"New",categoryId:"now_playing"},{categoryName:"Popular",categoryId:"popular"},{categoryName:"Top rated",categoryId:"top_rated"}]},e)),r.a.createElement(ke,{name:"Movie Genres",genres:E,mediaType:"movie"}),r.a.createElement(_e,Object.assign({blockTitle:"TV Shows",categories:[{categoryName:"On The Air",categoryId:"on_the_air"},{categoryName:"Popular",categoryId:"popular"},{categoryName:"Top rated",categoryId:"top_rated"}]},a)),r.a.createElement(ke,{name:"TV Genres",genres:f,mediaType:"tv"}))),r.a.createElement(L,null))},Se=t(64),Re=t.n(Se),je=function(e){return r.a.createElement("div",{className:"controls ".concat(e.extraClasses)},r.a.createElement("div",{ref:e.controlPrev,className:e.controlPrevBlocked?"control control-prev control__blocked":"control control-prev",onClick:e.prev},r.a.createElement(M.a,{src:ue.a,svgClassName:"left control__icon"})),r.a.createElement("div",{ref:e.controlNext,className:e.controlNextBlocked?"control control-next control__blocked":"control control-next",onClick:e.next},r.a.createElement(M.a,{src:ue.a,svgClassName:"right control__icon"})))},Ie=function(e){var a=r.a.useRef(),t=r.a.useRef({current:void 0}),n=r.a.useRef({current:void 0}),c=r.a.useState(0),i=Object(x.a)(c,2),o=i[0],l=i[1],s={dots:!0,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:5,beforeChange:function(e,a){l(a/5)}};return r.a.useEffect(function(){a.current.slickGoTo(0)},[e.id]),r.a.createElement("div",{className:"similar-movies"},r.a.createElement("div",{className:"section-header"},r.a.createElement("h1",null,e.name),r.a.createElement(je,{next:function(){a.current.slickNext()},prev:function(){a.current.slickPrev()},controlPrev:t,controlNext:n,extraClasses:"similar-movies__controls",controlPrevBlocked:0===o,controlNextBlocked:3===o})),r.a.createElement(le.a,Object.assign({},s,{ref:a}),e.similarMovies.map(function(e){return r.a.createElement(ye,{data:e,extraClasses:{"movie-card":"width-auto"}})})))},xe=t(30),Me=t.n(xe),Pe=t(31),De=t.n(Pe),Ve=t(39),Fe=t.n(Ve),We=function(e){return r.a.createElement("div",{className:"genre-arrow arrow-next ",onClick:e.onClick},r.a.createElement(M.a,{src:ue.a,svgClassName:"genre-arrow__icon"}))},Le=function(e){return r.a.createElement("div",{className:" genre-arrow arrow-prev",onClick:e.onClick},r.a.createElement(M.a,{src:ue.a,svgClassName:"genre-arrow__icon"}))},Ue=function(e){var a={dots:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:6,draggable:!0,arrows:!0,nextArrow:r.a.createElement(We,null),prevArrow:r.a.createElement(Le,null)};return r.a.createElement(r.a.Fragment,null,e.cast.length>=4?r.a.createElement(le.a,Object.assign({},a,{className:"cast-slider"}),e.cast.map(function(e){var a=e.profile_path?"http://image.tmdb.org/t/p/w185".concat(e.profile_path):Fe.a;return r.a.createElement("div",{className:"cast-item",key:e.name},r.a.createElement("img",{src:a,alt:""}),r.a.createElement("div",null,e.name))})):r.a.createElement("div",{className:"cast-items"},e.cast.map(function(e){var a=e.profile_path?"http://image.tmdb.org/t/p/w185".concat(e.profile_path):Fe.a;return r.a.createElement("div",{className:"cast-item",key:e.name},r.a.createElement("img",{src:a,alt:""}),r.a.createElement("div",null,e.name))})))},Be=Re()({prefix:"$"}),Ye=function(e,a){return Object(u.a)({},e,a)},Ge=function(e){var a=window.location.pathname.match(/\d+/)[0],t=r.a.useReducer(Ye,{credits:{cast:[],crew:[]},details:[],imdbScore:void 0,similarMovies:[]}),n=Object(x.a)(t,2),c=n[0],i=n[1];r.a.useEffect(function(){fetch("https://api.themoviedb.org/3/movie/".concat(a,"?api_key=").concat(v,"&language=en-US")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){return i({details:e}),e.imdb_id}).then(function(e){return fetch("http://www.omdbapi.com/?i=".concat(e,"&apikey=").concat("c2d195bb")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){i({imdbScore:e.imdbRating}),window.scrollTo({top:0})})}),fetch("https://api.themoviedb.org/3/movie/".concat(a,"/similar?api_key=").concat(v,"&language=en-US&page=1")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){i({similarMovies:e.results})}),fetch("https://api.themoviedb.org/3/movie/".concat(a,"/credits?api_key=").concat(v,"&language=en-US")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){var a=e.crew,t=e.cast;i({credits:{crew:a,cast:t}})})},[a]);var o=c.similarMovies,l=c.credits,s=c.details,m=c.imdbScore,d=function(e,a){var t=e.backdrop_path,n=e.vote_average,r=e.budget,c=e.revenue,i=e.genres,o=e.original_language,l=e.production_countries,s=e.id,m=e.production_companies,d=e.release_date,u=e.tagline,g=e.overview;if(!e.id)return{};var p=d.slice(0,4);return{backdrop_path:t,vote_average:n,budget:r,revenue:c,genres:i,original_language:o,production_countries:l,id:s,production_companies:m,title:e.title||e.original_title,poster_path:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://via.placeholder.com/280x390.png",tmdbScore:n,country:l[0]?l[0].iso_3166_1:null,directors:a.crew.filter(function(e){return"Director"===e.job}).map(function(e,a){return 0===a?"".concat(e.name):", ".concat(e.name," ")}),year:p,tagline:u,overview:g}}(s,l),u=d.backdrop_path,g=d.budget,p=d.revenue,f=d.genres,h=d.original_language,y=d.id,_=d.production_companies,N=d.title,b=d.poster_path,w=d.tmdbScore,k=d.country,A=d.directors,T=d.year,C=d.tagline,O=d.overview;return y&&l.cast.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),u&&r.a.createElement(se,{title:N,backdrop_path:u,extraClasses:"banner_fixed"}),r.a.createElement(W,null,r.a.createElement("div",{className:"movie-page"},r.a.createElement("div",{className:"movie-inner"},r.a.createElement("div",{className:"movie-inner__col-1"},r.a.createElement("div",{className:"movie-thumbnail",style:{backgroundImage:"url(".concat(b,")")}}),r.a.createElement("div",{className:"rating-block"},"N/A"!==m&&r.a.createElement("div",{className:"rating imdb-rating"},r.a.createElement("div",{className:"rating__count"},m),r.a.createElement("div",{className:"rating__info"},r.a.createElement("div",{className:"rating__by"},r.a.createElement("img",{src:Me.a,alt:"imdb-logo.png"})))),w>0&&r.a.createElement("div",{className:"rating"},r.a.createElement("div",{className:"rating__count"},w),r.a.createElement("div",{className:"rating__info"},r.a.createElement("div",{className:"rating__by"},r.a.createElement(M.a,{src:De.a,svgClassName:"tmdb-logo"}))))),r.a.createElement("div",{className:"movie-actions"},r.a.createElement(ge,{data:c.details,mediaType:"movie"}),r.a.createElement(pe,{data:c.details,mediaType:"movie"}),r.a.createElement(ve,{data:c.details,mediaType:"movie"}),r.a.createElement(he,{id:y,mediaType:"movie"}))),r.a.createElement("div",{className:"movie-inner__col-2"},r.a.createElement("div",{className:"info-block"},r.a.createElement("ul",{className:"basic-info"},r.a.createElement("li",{className:"info-block__item  year"},T),k&&r.a.createElement("li",{className:"info-block__item country"},k),h&&r.a.createElement("li",{className:"info-block__item lang"},h)),r.a.createElement("ul",{className:"genres-info"},f.slice(0,3).map(function(e){return r.a.createElement("li",{key:e.name,className:"info-block__item genres-info__item"},e.name)}))),r.a.createElement("div",{className:"title-block"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,N)),r.a.createElement("div",{className:"tagline"},C)),r.a.createElement("div",{className:"overview"},O),r.a.createElement("div",{className:"movie-details"},r.a.createElement("div",{className:"director"},r.a.createElement("span",null,"Director:"),A),r.a.createElement("div",{className:"cast"},r.a.createElement("span",null,"Cast:"),l.cast.slice(0,8).map(function(e,a){return 7===a?" ".concat(e.name):" ".concat(e.name,", ")})," "),_.length>0&&r.a.createElement("div",null,r.a.createElement("span",null,"Production Co:"),_.map(function(e,a){return 0===a?e.name:", ".concat(e.name)})),r.a.createElement("div",{className:"info-money"},g>0&&r.a.createElement("div",{className:"budget"},r.a.createElement("span",null,"Budget:")," ",Be(g)),p>0&&r.a.createElement("div",{className:"revenue"},r.a.createElement("span",null,"Revenue:"),Be(p)))),r.a.createElement("div",{className:"cast"},r.a.createElement("div",{className:"cast-title"},"Cast"),r.a.createElement(Ue,{cast:l.cast}))))),o.length>0&&r.a.createElement(Ie,{id:y,name:"Similar movies",similarMovies:o}),r.a.createElement(ke,{mediaType:"movie",genres:E,name:"TV Genres"})),r.a.createElement(L,null)):null},He=function(e){var a=window.location.pathname.match(/\d+/)[0],t=r.a.useReducer(function(e,a){return Object(u.a)({},e,a)},{credits:{cast:[],crew:[]},details:[],imdbScore:void 0,similarMovies:[]}),n=Object(x.a)(t,2),c=n[0],i=n[1];r.a.useEffect(function(){fetch("https://api.themoviedb.org/3/tv/".concat(a,"?api_key=").concat(v,"&language=en-US")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){return i({details:e}),e.imdb_id}).then(fetch("https://api.themoviedb.org/3/tv/".concat(a,"/external_ids?api_key=").concat(v,"&language=en-US")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){var a=e.imdb_id;fetch("http://www.omdbapi.com/?i=".concat(a,"&apikey=").concat("c2d195bb")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){i({imdbScore:e.imdbRating}),window.scrollTo({top:0})})})),fetch("https://api.themoviedb.org/3/tv/".concat(a,"/similar?api_key=").concat(v,"&language=en-US&page=1")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){i({similarMovies:e.results})}),fetch("https://api.themoviedb.org/3/tv/".concat(a,"/credits?api_key=").concat(v,"&language=en-US")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){var a=e.crew,t=e.cast;i({credits:{crew:a,cast:t}})})},[a]);var o=c.credits,l=c.details,s=c.imdbScore,m=c.similarMovies,d=function(e,a){if(!e.id)return{};var t=e.backdrop_path,n=e.vote_average,r=e.id,c=e.origin_country,i=e.original_language,o=e.genres,l=e.overview,s=e.first_air_date,m=e.production_companies,d=e.seasons,u=(e.original_name,e.name,s.slice(0,4)),g=e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://via.placeholder.com/280x390.png";return{backdrop_path:t,genres:o,original_language:i,id:r,production_companies:m,title:e.name||e.original_name,poster_path:g,tmdbScore:n,country:c,year:u,overview:l,seasons:d}}(l),g=d.backdrop_path,p=d.genres,E=d.original_language,h=d.id,y=d.production_companies,_=d.title,N=d.poster_path,b=d.tmdbScore,w=d.country,k=d.year,A=d.overview,T=d.seasons;return h?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),g&&r.a.createElement(se,{title:_,backdrop_path:g,extraClasses:"banner_fixed"}),r.a.createElement(W,null,r.a.createElement("div",{className:"movie-page"},r.a.createElement("div",{className:"movie-inner"},r.a.createElement("div",{className:"movie-inner__col-1"},r.a.createElement("div",{className:"movie-thumbnail",style:{backgroundImage:"url(".concat(N,")")}}),r.a.createElement("div",{className:"rating-block"},"N/A"!==s&&r.a.createElement("div",{className:"rating imdb-rating"},r.a.createElement("div",{className:"rating__count"},s),r.a.createElement("div",{className:"rating__info"},r.a.createElement("div",{className:"rating__by"},r.a.createElement("img",{src:Me.a,alt:"imdb-logo.png"})))),b>0&&r.a.createElement("div",{className:"rating"},r.a.createElement("div",{className:"rating__count"},b),r.a.createElement("div",{className:"rating__info"},r.a.createElement("div",{className:"rating__by"},r.a.createElement(M.a,{src:De.a,svgClassName:"tmdb-logo"}))))),r.a.createElement("div",{className:"movie-actions"},r.a.createElement(ge,{data:c.details,mediaType:"tv"}),r.a.createElement(pe,{data:c.details,mediaType:"tv"}),r.a.createElement(ve,{data:c.details,mediaType:"tv"}),r.a.createElement(he,{id:h,mediaType:"tv"}))),r.a.createElement("div",{className:"movie-inner__col-2"},r.a.createElement("div",{className:"info-block"},r.a.createElement("ul",{className:"basic-info"},r.a.createElement("li",{className:"info-block__item  year"},k),w&&r.a.createElement("li",{className:"info-block__item country"},w),E&&r.a.createElement("li",{className:"info-block__item lang"},E)),r.a.createElement("ul",{className:"genres-info"},p.slice(0,3).map(function(e){return r.a.createElement("li",{key:e.name,className:"info-block__item genres-info__item"},e.name)}))),r.a.createElement("div",{className:"title-block"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,_))),r.a.createElement("div",{className:"overview"},A),r.a.createElement("div",{className:"movie-details"},r.a.createElement("div",{className:"cast"},r.a.createElement("span",null,"Cast:"),o.cast.slice(0,8).map(function(e,a){return 7===a?" ".concat(e.name):" ".concat(e.name,", ")})," "),y.length>0&&r.a.createElement("div",null,r.a.createElement("span",null,"Production Co:"),y.map(function(e,a){return 0===a?e.name:", ".concat(e.name)})),r.a.createElement("div",{className:"sesons"},r.a.createElement("span",null,"seasons:"),T.length)),o.cast.length?r.a.createElement("div",{className:"cast"},r.a.createElement("div",{className:"cast-title"},"Cast"),r.a.createElement(Ue,{cast:o.cast})):null))),m.length>0&&r.a.createElement(Ie,{id:h,name:"Similar TV Shows",similarMovies:m}),r.a.createElement(ke,{mediaType:"tv",genres:f,name:"TV Genres"})),r.a.createElement(L,null)):null},Qe=function(e){var a=r.a.useState("Movies"),t=Object(x.a)(a,2),n=t[0],c=t[1],i=r.a.useState(E),o=Object(x.a)(i,2),l=o[0],s=o[1],m=r.a.useState("movie"),d=Object(x.a)(m,2),u=d[0],g=d[1],p=function(e){var a=e.currentTarget.dataset.category;switch(c(a),a){case"Movies":s(E),g("movie");break;case"TV Shows":s(f),g("tv")}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(W,null,r.a.createElement("div",{className:"genres-page"},r.a.createElement("div",{className:"block-movies__header"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Genres")),r.a.createElement("ul",{className:"categories genres-page__categories"},["Movies","TV Shows"].map(function(e){var a=n===e?"category_active":"";return r.a.createElement("li",{key:e,className:"category ".concat(a),onClick:p,"data-category":e},e)}))),r.a.createElement("div",{className:"genres"},l.map(function(e){return r.a.createElement(Ne,{key:e.name+e.id,genre:e,mediaType:u})})))),r.a.createElement(L,null))},qe=t(36),Xe=t.n(qe),Ze=t(65),Ke=t.n(Ze),ze=t(12),Je=t.n(ze),$e=function(e){var a=r.a.useState(!1),t=Object(x.a)(a,2),n=t[0],c=t[1],i=r.a.useRef(),o=function(e){i.current&&!i.current.contains(e.target)&&c(!1)},l=function(a){return function(){e.goToFirstPage(),c(!1),e.dispatch({sortBy:a})}};return r.a.useEffect(function(){return n&&document.addEventListener("mousedown",o),function(){return document.removeEventListener("mousedown",o)}},[n]),r.a.createElement("div",{className:n?"dropdown dropdown_active":"dropdown",ref:i},r.a.createElement("div",{className:"choosed-values dropdown__value",onClick:function(e){i.current.classList.toggle("dropdown_active"),c(!0)}},e.sortBy.name),r.a.createElement("ul",{className:"dropdown-select"},e.sortByOptions.map(function(a){var t=e.sortBy.name===a.name?"dropdown-select__option dropdown-select__option_active":"dropdown-select__option";return r.a.createElement("li",{className:t,key:a.name,onClick:l(a)},a.name)})))},ea=function(e){var a=r.a.useState([]),t=Object(x.a)(a,2),n=t[0],c=t[1],i=r.a.useState(""),o=Object(x.a)(i,2),l=o[0],s=o[1],m=r.a.useState(!1),u=Object(x.a)(m,2),g=u[0],p=u[1];return r.a.useEffect(function(){l&&fetch("https://api.themoviedb.org/3/search/keyword?api_key=".concat(v,"&query=").concat(l,"&page=1")).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){c(e.results)})},[l]),r.a.createElement("div",{className:g?"dropdown dropdown_active":"dropdown"},r.a.createElement("div",{className:"input-group"},r.a.createElement("ul",{className:"input-group__added-values"},e.keywords.map(function(a){return r.a.createElement("li",{className:"input-group__added-value",key:a.id},r.a.createElement("span",null,a.name),r.a.createElement("span",{className:"close",onClick:function(){return function(a){var t=e.keywords.slice().filter(function(e){return e.id!==a.id});e.dispatch({keywords:t})}(a)}},r.a.createElement(M.a,{svgClassName:"close__icon",src:Je.a})))})),r.a.createElement("input",{type:"text",onChange:function(e){s(e.target.value),e.target.value?p(!0):p(!1)},value:l,className:"input-group__input",placeholder:"Filter by keywords..."})),r.a.createElement("ul",{className:"dropdown-select",style:n.length<=4?{height:"auto"}:{}},n.map(function(a){return r.a.createElement("li",{key:a.name,onClick:function(){return function(a){p(!1),e.goToFirstPage(),e.dispatch({keywords:[].concat(Object(d.a)(e.keywords),[a])}),s("")}(a)},className:"dropdown-select__option","data-value":"popularity.desc"},a.name)})))},aa=function(e){var a=r.a.useState([]),t=Object(x.a)(a,2),n=(t[0],t[1],r.a.useState("")),c=Object(x.a)(n,2),i=c[0],o=c[1],l=r.a.useState(!1),s=Object(x.a)(l,2),m=s[0],u=s[1],g=r.a.useRef(),p=r.a.useRef(),v=function(e){!g.current||g.current.contains(e.target)||p.current.value||u(!1)};r.a.useEffect(function(){return document.addEventListener("mousedown",v),function(){return document.removeEventListener("mousedown",v)}},[i]);var E=i?e.suggestions.filter(function(e){return-1!==e.name.indexOf(i)}):e.suggestions;return r.a.createElement("div",{className:m?"dropdown dropdown_active":"dropdown",ref:g},r.a.createElement("div",{className:"input-group"},r.a.createElement("ul",{className:"input-group__added-values"},e.genres.map(function(a){return r.a.createElement("li",{className:"input-group__added-value",key:a.id},r.a.createElement("span",null,a.name),r.a.createElement("span",{className:"close",onClick:function(){return function(a){var t=e.genres.slice().filter(function(e){return e.id!==a.id});e.dispatch({genres:t})}(a)}},r.a.createElement(M.a,{svgClassName:"close__icon",src:Je.a})))})),r.a.createElement("input",{type:"text",className:"input-group__input",placeholder:"Filter by genres...",onChange:function(e){o(e.target.value)},onSelect:function(){return u(!0)},value:i,ref:p})),r.a.createElement("ul",{className:"dropdown-select",style:E.length<=4?{height:"auto"}:{}},E.filter(function(a){return!e.genres.some(function(e){return a.id===e.id})}).map(function(a){return r.a.createElement("li",{className:"dropdown-select__option",key:a.id,onClick:function(){return t=a,e.goToFirstPage(),u(!1),e.dispatch({genres:[].concat(Object(d.a)(e.genres),[t])}),void o("");var t}},a.name)})))},ta=function(e){var a=function(a){e.handleOptionChange(a)};return r.a.createElement("div",{className:"year-settings"},r.a.createElement("div",{className:"range"===e.radioState.selectedOption?"year-setting year-setting_active":"year-setting"},r.a.createElement("label",{htmlFor:"range-year",className:"year-setting__label"},"range"),r.a.createElement("div",{className:"year-setting__radio"},r.a.createElement("input",{type:"radio",name:"year",value:"range",id:"range-year",checked:"range"===e.radioState.selectedOption,onChange:a}))),r.a.createElement("div",{className:"single"===e.radioState.selectedOption?"year-setting year-setting_active":"year-setting"},r.a.createElement("label",{htmlFor:"single-year",className:"year-setting__label"},"single"),r.a.createElement("div",{className:"year-setting__radio"},r.a.createElement("input",{type:"radio",value:"single",name:"year",id:"single-year",checked:"sinlge"===e.radioState.selectedOption,onChange:a}))))},na=function(e){var a=(new Date).getFullYear();return r.a.createElement("form",{className:"discover-form"},r.a.createElement("div",{className:"discover-form__element"},r.a.createElement("div",{className:"label"}," Sort by"),r.a.createElement($e,{goToFirstPage:e.goToFirstPage,sortBy:e.sortBy,dispatch:e.dispatch,sortByOptions:[{name:"Popularity Descending",id:"popularity.desc"},{name:"Popularity Ascending",id:"popularity.asc"},{name:"Rating Descending",id:"vote_average.desc"},{name:"Rating Ascending",id:"vote_average.asc"},{name:"Release Date Descending",id:"primary_release_date.desc"},{name:"Release Date Ascending",id:"primary_release_date.asc"}]})),r.a.createElement("div",{className:"discover-form__element"},r.a.createElement("div",{className:"label"},"Keywords"),r.a.createElement(ea,{goToFirstPage:e.goToFirstPage,dispatch:e.dispatch,keywords:e.keywords})),r.a.createElement("div",{className:"discover-form__element"},r.a.createElement("div",{className:"label"},"Genres"),r.a.createElement(aa,{goToFirstPage:e.goToFirstPage,suggestions:"tv"===e.mediaType?f:E,dispatch:e.dispatch,genres:e.genres})),r.a.createElement("div",{className:"discover-form__element"},r.a.createElement("div",{className:"input-range__header"},r.a.createElement("div",{className:"label"},"Release year"),r.a.createElement(ta,{radioState:e.radioState,handleOptionChange:e.handleOptionChange})),r.a.createElement(Ke.a,{maxValue:a,minValue:1900,value:e.rangeValues,onChange:function(a){return e.setRangeValues(a)},onChangeComplete:function(a){e.dispatch({year:a}),e.goToFirstPage()}})))},ra=r.a.createElement(M.a,{src:ue.a,svgClassName:"arrow-next arrow-icon"}),ca=r.a.createElement(M.a,{src:ue.a,svgClassName:"arrow-prev arrow-icon"}),ia=function(e){return r.a.createElement("div",{className:"pagination__wrapper"},r.a.createElement(Xe.a,{previousLabel:ca,nextLabel:ra,containerClassName:"pagination",pageClassName:"page",pageCount:e.totalPages>=1e3?1e3:e.totalPages,forcePage:e.page-1,pageRangeDisplayed:6,marginPagesDisplayed:2,onPageChange:e.handlePageClick}))},oa=function(e,a){return Object(u.a)({},e,a)},la=function(e){var a=r.a.useRef(!1),t=(new Date).getFullYear(),n={results:[],mediaType:"movie",sortBy:{id:"popularity.desc",name:"Popularity Descending"},totalPages:void 0,page:1,keywords:[],genres:[],year:{min:1900,max:t}},c=r.a.useReducer(oa,n),i=Object(x.a)(c,2),o=i[0],l=i[1],s={selectedOption:"range"},m=r.a.useState(s),d=Object(x.a)(m,2),g=d[0],p=d[1],E={max:t,min:1900},f=t,h=r.a.useState(E),y=Object(x.a)(h,2),_=y[0],N=y[1];r.a.useEffect(function(){e.location&&!a.current&&(l(e.location.state),a.current=!0);var t="movie"===o.mediaType?"primary_release_date.gte=".concat(o.year.min?o.year.min:o.year,"-01-01&primary_release_date.lte=").concat(o.year.max?o.year.max:o.year,"-12-30"):"first_air_date.gte=".concat(o.year.min?o.year.min:o.year,"-01-01&first_air_date.lte=").concat(o.year.max?o.year.max:o.year,"-12-30"),n=o.keywords.map(function(e){return e.id}),r=o.genres.map(function(e){return e.id}),c="https://api.themoviedb.org/3/discover/"+"".concat(o.mediaType,"?")+"api_key=".concat(v,"&language=en-US&")+"sort_by=".concat(o.sortBy.id,"&")+"include_adult=false&include_video=false&"+"page=".concat(o.page,"&")+"with_keywords=".concat(n,"&")+"with_genres=".concat(r,"&")+t;fetch(c).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){l({results:e.results,totalPages:e.total_pages})})},[o.mediaType,o.sortBy.id,o.page,o.keywords.length,o.genres.length,o.year.min,o.year.max,o.year,_,_.min,_.max,o.totalPages,o.results.length]);var b=function(e){l(Object(u.a)({},n)),p(s),N(E),l({mediaType:e})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(W,null,r.a.createElement("div",{className:"discover-page"},r.a.createElement("div",{className:"block-movies__header"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Discover")),r.a.createElement("ul",{className:"categories genres-page__categories"},[{name:"Movies",mediaType:"movie"},{name:"TV shows",mediaType:"tv"}].map(function(e){var a=o.mediaType===e.mediaType?"category_active":"";return r.a.createElement("li",{key:e.name,onClick:function(){return b(e.mediaType)},className:"category ".concat(a)},e.name)}))),r.a.createElement(na,Object.assign({setRangeValues:N,rangeValues:_,dispatch:l,goToFirstPage:function(){l({page:1})}},o,{radioState:g,handleOptionChange:function(e){p({selectedOption:e.target.value}),"range"===e.target.value?(N(E),l({year:E})):(N(f),l({year:f}))}})),r.a.createElement("div",{className:"discover-results"},o.results.map(function(e){return r.a.createElement(ye,{data:e})})),o.results.length>0&&r.a.createElement(ia,{page:o.page,totalPages:o.totalPages,handlePageClick:function(e){var a=e.selected;l({page:a+1}),window.scrollTo(0,0)}}))),r.a.createElement(L,null))},sa=function(e,a){return Object(u.a)({},e,a)},ma=function(){var e={mediaType:"movie",totalPages:void 0,addedValue:void 0,page:1,query:"",suggestions:[],recommendations:[]},a=r.a.useReducer(sa,e),t=Object(x.a)(a,2),n=t[0],c=t[1],i=function(a){c(e),c({mediaType:a})};r.a.useEffect(function(){if(n.query.length>=3){var e="https://api.themoviedb.org/3/search/"+"".concat(n.mediaType,"?")+"api_key=".concat(v,"&language=en-US&")+"query=".concat(n.query);fetch(e).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){c({suggestions:e.results})})}if(n.addedValue){var a="https://api.themoviedb.org/3/".concat(n.mediaType,"/")+"".concat(n.addedValue.id,"/recommendations?")+"api_key=".concat(v,"&language=en-US&")+"page=".concat(n.page);fetch(a).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){c({recommendations:e.results,totalPages:e.total_pages})})}},[n.mediaType,n.query,n.page,n.addedValue]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(W,null,r.a.createElement("div",{className:"recommendations-page",style:n.recommendations.length>0?null:{paddingBottom:"408px"}},r.a.createElement("div",{className:"block-movies__header"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Recommendations")),r.a.createElement("ul",{className:"categories genres-page__categories"},[{name:"Movies",mediaType:"movie"},{name:"TV shows",mediaType:"tv"}].map(function(e){var a=n.mediaType===e.mediaType?"category_active":"";return r.a.createElement("li",{key:e.name,onClick:function(){return i(e.mediaType)},className:"category ".concat(a)},e.name)}))),r.a.createElement("div",{className:n.suggestions.length>0?"preferences-group preferences-group_active":"preferences-group"},n.addedValue&&r.a.createElement("div",{className:"preference"},r.a.createElement("span",{className:"text"},n.addedValue.name),r.a.createElement("span",{className:"close",onClick:function(){return n.addedValue.id,void c({addedValue:void 0})}},r.a.createElement(M.a,{svgClassName:"close__icon",src:Je.a}))),!n.addedValue&&r.a.createElement("input",{type:"text",onChange:function(e){c({query:e.target.value})},className:"preferences-input",placeholder:"Enter your favorite movie or TV show",value:n.query}),n.suggestions.length>0&&n.query&&r.a.createElement("ul",{className:"preference-suggestions"},n.suggestions.slice(0,7).map(function(e){var a=N(e),t=a.originalTitle,n=a.year,i=(a.mediaType,a.rating),o=a.id;return r.a.createElement("li",{className:"preference-suggestion",key:o,onClick:function(){c({addedValue:{id:o,name:t},query:"",suggestions:[],page:1})}},r.a.createElement("div",{className:"title"},t),r.a.createElement("div",{className:"info"},r.a.createElement(ge,null),r.a.createElement(pe,null),r.a.createElement(ve,null),r.a.createElement(he,null),n&&r.a.createElement("div",{className:"year"},n),r.a.createElement("div",{className:"stars"},r.a.createElement(te.a,{count:5,half:!0,edit:!1,size:20,value:i/2}))))}))),r.a.createElement("div",{className:"movies-container"},n.recommendations.map(function(e){return r.a.createElement(ye,{key:e.id,data:e})})),n.totalPages>1&&r.a.createElement(ia,{page:n.page,totalPages:n.totalPages,handlePageClick:function(e){var a=e.selected;c({page:a+1})}}))),r.a.createElement(L,null))},da=function(e){var a={page:1,currentCategory:"now_playing",totalPages:void 0,movies:[]},t=r.a.useReducer(function(e,a){return Object(u.a)({},e,a)},a),n=Object(x.a)(t,2),c=n[0],i=n[1];r.a.useEffect(function(){fetch("https://api.themoviedb.org/3/movie/".concat(c.currentCategory,"?api_key=").concat(v,"&language=en-US&page=").concat(c.page)).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){return i({movies:e.results,totalPages:e.total_pages})})},[c.currentCategory,c.page]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(W,null,r.a.createElement("div",{className:"movies-page"},r.a.createElement("div",{className:"block-movies__header"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Movies")),r.a.createElement("ul",{className:"categories genres-page__categories"},[{categoryName:"New",categoryId:"now_playing"},{categoryName:"Popular",categoryId:"popular"},{categoryName:"Top rated",categoryId:"top_rated"}].map(function(e){return r.a.createElement("li",{key:e.categoryId,className:c.currentCategory===e.categoryId?"category category_active":"category",onClick:function(){return function(e){i(Object(u.a)({},a,{currentCategory:e}))}(e.categoryId)}},e.categoryName)}))),r.a.createElement("div",{className:"movies-container"},c.movies.map(function(e){return r.a.createElement(ye,{key:e.id,data:e})})),c.totalPages&&r.a.createElement(ia,{handlePageClick:function(e){var a=e.selected;i({page:a+1})},page:c.page,totalPages:c.totalPages}))),r.a.createElement(L,null))},ua=function(e){var a=[{categoryName:"On The Air",categoryId:"on_the_air"},{categoryName:"Popular",categoryId:"popular"},{categoryName:"Top rated",categoryId:"top_rated"}],t={page:1,currentCategory:a[0].categoryId,totalPages:void 0,movies:[]},n=r.a.useReducer(function(e,a){return Object(u.a)({},e,a)},t),c=Object(x.a)(n,2),i=c[0],o=c[1];r.a.useEffect(function(){fetch("https://api.themoviedb.org/3/tv/".concat(i.currentCategory,"?api_key=").concat(v,"&language=en-US&page=").concat(i.page)).then(function(e){if(e.ok)return e.json();throw new Error("Cannot connect to the server to get items ")}).then(function(e){return o({movies:e.results,totalPages:e.total_pages})})},[i.currentCategory,i.page]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(W,null,r.a.createElement("div",{className:"movies-page"},r.a.createElement("div",{className:"block-movies__header"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"TV Shows")),r.a.createElement("ul",{className:"categories genres-page__categories"},a.map(function(e){return r.a.createElement("li",{key:e.categoryId,className:i.currentCategory===e.categoryId?"category category_active":"category",onClick:function(){return function(e){o(Object(u.a)({},t,{currentCategory:e}))}(e.categoryId)}},e.categoryName)}))),r.a.createElement("div",{className:"movies-container"},i.movies.map(function(e){return r.a.createElement(ye,{id:e.id,data:e})})),i.totalPages&&r.a.createElement(ia,{handlePageClick:function(e){var a=e.selected;o({page:a+1})},page:i.page,totalPages:i.totalPages}))),r.a.createElement(L,null))},ga=t(40),pa=t.n(ga),va={zIndex:"10",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)"},Ea={overflow:"visible",padding:0,top:"auto",right:"auto",bottom:"auto",left:"auto"};pa.a.setAppElement("#root");var fa=Object(m.b)(function(e){return e.trailersModal})(function(e){var a=function(){R.dispatch({type:h.HIDE_MODAL})},t=function(e){var a=e.currentTarget.dataset.key;R.dispatch({type:h.SET_VIDEO_KEY,currentVideoKey:a})},n=e.trailersData,c=document.documentElement.clientWidth,i=e.currentVideoKey,o=0,l=c>=1400?.6*c:880,s=c>=1400?.34*c:500;return r.a.createElement(pa.a,{htmlOpenClassName:"fixed",style:{overlay:va,content:Ea},onRequestClose:a,isOpen:e.showModal},r.a.createElement("div",null,r.a.createElement("div",{className:"contollers"},r.a.createElement("div",{className:"switch-video"},Object.entries(n).length&&Object.entries(n).map(function(e){return e[1].map(function(a,n){return o<4?(o++,r.a.createElement("div",{key:a,className:a===i?"switch-video__item switch-video__item_active":"switch-video__item",onClick:t,"data-key":a},e[0]," ",n+1)):null})})),r.a.createElement("div",{className:"close-modal",onClick:a},r.a.createElement(M.a,{src:Je.a,svgClassName:"close-modal__icon"}))),r.a.createElement("iframe",{src:"http://www.youtube.com/embed/".concat(i),title:"youtube videos (trailers)",width:l,height:s,frameBorder:"0",allowFullScreen:!0})))}),ha=function(e,a){return Object(u.a)({},e,a)},ya=Object(m.b)(function(e){return e.lists})(function(e){var a=["favorities","wishlist","watched"],t=[{id:"all",name:"All"},{id:"tv",name:"TV Shows"},{id:"movie",name:"Movies"}],c={currListType:a[0],currMediaType:t[0],favorities:[]},i=r.a.useReducer(ha,c),o=Object(x.a)(i,2),l=o[0],s=o[1];r.a.useEffect(function(){},[e.favorities.length]);var m=e[l.currListType].filter(function(e){var a=e.first_air_date?"tv":"movie";return"all"===l.currMediaType.id||a===l.currMediaType.id});return r.a.createElement(n.Fragment,null,r.a.createElement(ie,null),r.a.createElement(W,null,r.a.createElement("div",{className:"lists-page"},r.a.createElement("div",{className:"block-movies__header"},r.a.createElement("h1",{className:"title"},"Lists"),r.a.createElement("div",{className:"categories-block"},r.a.createElement("ul",{className:"categories block-trending__categories"},a.map(function(e){var a=l.currListType===e?"category category_active category":"category";return r.a.createElement("li",{className:a,key:e,onClick:function(){s({currListType:e})}},e)})),r.a.createElement("ul",{className:"categories block-trending__categories"},t.map(function(e){var a=l.currMediaType.id===e.id?"category category_active category":"category";return r.a.createElement("li",{className:a,key:e.id,onClick:function(){s({currMediaType:e})}},e.name)})))),m.length>0?r.a.createElement("div",{className:"movies-container",style:m.length<=5?{marginBottom:"126px"}:null},m.map(function(e){return r.a.createElement(ye,{data:e,key:e.id})})):r.a.createElement("div",{className:"lists-placeholder"},r.a.createElement("div",{className:"lists-placeholder__text"},"There are no added movies or TV shows to this list yet")))),r.a.createElement(L,null))}),_a=function(){return r.a.useEffect(function(){return function(){return localStorage.setItem("lol",100)}}),r.a.createElement(m.a,{store:R},r.a.createElement(s.a,{loading:null,persistor:j},r.a.createElement(o.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:Oe}),r.a.createElement(l.a,{path:"/movie/:title/:id",component:Ge}),r.a.createElement(l.a,{path:"/tv/:title/:id",component:He}),r.a.createElement(l.a,{path:"/genres",component:Qe}),r.a.createElement(l.a,{path:"/discover",component:la}),r.a.createElement(l.a,{path:"/recommendations",component:ma}),r.a.createElement(l.a,{path:"/movies",component:da}),r.a.createElement(l.a,{path:"/tv_shows",component:ua}),r.a.createElement(l.a,{path:"/lists",component:ya}))),r.a.createElement(fa,null)))};i.a.render(r.a.createElement(_a,null),document.getElementById("root"))},27:function(e,a,t){e.exports=t.p+"static/media/checked.e66fc63d.svg"},28:function(e,a,t){e.exports=t.p+"static/media/bookmark.1374d54f.svg"},29:function(e,a,t){e.exports=t.p+"static/media/like.ae90f291.svg"},30:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAwCAYAAADuFn/PAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAEnklEQVR4Xu2ceWjTYBTA+4/tNh3qVObtQN3t1B3d0CkeTCdTvFAH3reoQ0E88MATD3BusonK8MIDRXDigW447FTEYwjiFET8RxQ8/hFRvOae30uTmDSvWePXLtV9gV+hfS+v5P2a5EvSxOE7Nd5yJjd6XCWM+sZa12eodYHg78EeSr30uPZhb+U2GyeodzgbPc4ylviLKiTgh8n4iT2GOkcrue3eSWp+rbOamkkQfKRes57L7WebHY+znEoUhA62NpR6m3+7VQp700AlCUKHtDnCfQLucKkEQehhEopRQD0VFIQeJuAJCvhEBQWhB3vvoAKC5kMIsBkuAWML+kN8eo6BM7u6qTnPz7YjcxSGjUzX1azY3JPM02KlPtI/xw2ZuZlQUDAAVs5PgOryWFz9dd+LYF1qfkT7ncHEdgHIp6ooNX/z8j5kjhar9SkKJ/eD95dbq3WQFiug7niMmr9gejKZoyUYApApE9Pg180/y9NiBWjzx4wZQOZoCZYA5N6RDmqtFisANzuYi9vltGw3maMl0PoYf10ZDTOnppJxpGx9nForEAGPTsTAlqI+MGNKKhTNS4TKvV10a5FVwkLAdLYwmPvuUhsy7osVAcjpnf4bq8hHzATsWxMHy+ckkjGU8a0mUq1jhbAQkMVGKJj7iO0LqLgvVgWYNTZQAU1xYEMvtY4VwkIA8pb9+i+VdCFjvtghwJ2bBXcrOkLe6IFkXFmLrRI2Am4d7gQHN/UiY77YIQCXFXM2Lu1rGrdK2AjAAzB/C+eLnQIw3yxulbARsHpRAswtTCFjvggBMjwCEjP178ePS4O8Ufrta1JGtu69ghAgwyPAt9mpbjekuPUNH51PH5QJATI8ApbNpsfUWvBAh/pcCJDhEYALkj0ki4wp4FEq9bkQIMMrYIbJKQLk+v5Y8nMhQIZXwLYVvckYgueEnp1pT8aEABleAWd3dyVjyMTxaX7nFQJkeAXgmUUqhqxbEi8ENAWvgM/VUZCQYYwhR7f2EAKaglcAxkfkpZPxOxUdgybgxPbuZBxp8QKWzEoi4x+utOYWUH+qvTSSyvdzQIfsWNlbrRWIgP/mZJwioGStcayfM9R7fYBXQCCc39NVrWUmAEdlnkOdYBIbHFDxf1bA1dLOhtisad5z66EWMHhYpu4fGWYCmmLyhH5qHSvYLuDFubaGGB4fmM0bDAG5wzPg8ck//8ZAeASsWhivqxUotgtouBkhnYjTxvD4wGzevxWAlz5nF6ZI14i/sBGYUkPBnwAcEleVxcLaxfGQPsh4+gSvkr25GG2oFwhcAso3xMGmZX0N3Nf81QMvNVI5ePlRySldp6/z8nxb03m19b/eiJR2tv54yo6mX12Iho/X9H/CosC61PehZCXne00kPDjaQdp3XCzuDA+PxcCPmghdHStwCRDwIwTYjBBgM+IGDRuRbtBgL+IWJZtQblESN+nZBBOw1/toAnGbarPDeo53zSd57xWudZVSSYLQwXpeLDUfJ/GoguaF/fKrdI8qwAkfIIFrAq4a1EwCfqTNDvvlGx7WoZ3kfUIx44kYovKDPZR6yXa4xsfVOBy/AbB7JYT9lPLTAAAAAElFTkSuQmCC"},31:function(e,a,t){e.exports=t.p+"static/media/tmdb-logo.3e37727c.svg"},39:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAEOBAMAAADSxSCmAAAAG1BMVEXMzMyWlpacnJyqqqrFxcWxsbGjo6O3t7e+vr6He3KoAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACxUlEQVR4nO3azVPaUBQF8PNCIFkmVoFl+NCyRK0zXT7UYY1Z2G20FFxGOsMa6LT9t3tvCIpAZxxSOy7ObzTPvMDhet8LqwBERERERERERERERERERERERERERERE9I45FohbgHs3XJv9VZ15YRjW0K/avaPnFuUPp11ctk6eJ/3qWd0fjUY1t3mW7Jv8s2HhpH6A2PZmT7OVLkYylKJy263vG30aWpgZDvENpe7TrMwsZJjPKgOc7xvt9qzUWA5Qh5cAXg3zAdDLfvBVP2O6bzSMhR82Uqnbj+S0ifvl/EQ6Xteri2LRYeoGkIZLD74se+sfSasTrX1eJNoZ9qNVdOkgyaYfpfG9tHC0mUlq3hBXllU/QYrGjS3cECntMF9Gac5MZ+/1OELhZTRW2pFvvkpTa/fa+g9I5UU2X9brgRetbpnH39qKSqr5sqBFbhmN9qqn6epGP8Gdlcnz83PIZkeRG12jMTlefT2V65jr3pCvJlQimSjy9URERERERERERERERERERERERET/kcl/32N0ePDpddGBnBl9hu0AcAI9FVeNMdAPhzAR0NgICNy/Pfi3Izo7VmeY5tHusf0hh+vYmgd4d5vRuMRZC4715I9yswsTBzqUmjcaHbf0IcHL9ehagnEeXRosD+WumaLyuB1dHvYHpbSH77i9voAZZsPttRZh5JIf4WI9Ouj4UR7t2OXBjYwzW2wujDTEsW7kd+P0M9pSn7HZ0M4epjVyCWP5lUXRPmfR00qaR5vVITBeMt6MlmXMiok6SaRv11fqEKx6HWBRSl9U7UywXTU+RltV6zUtLXlI0F6m6bBWtRO/WMagfITtXuNmsCNae404nQwwtVf6fh2ee60PHL+Izk6y49oOwfZNoC+RHYK57Vl4jY6+QIfnHQIv2hG9bNpVuNrXO6JfIXtE9W1M3izZdN4smujf+gMxBWio7C++uAAAAABJRU5ErkJggg=="},50:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAA8BAMAAADml+XTAAAAJFBMVEXMzMyWlpa+vr6xsbG3t7fFxcWqqqqjo6OcnJyzs7Obm5uampoX9FlTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAARUlEQVQ4jWNgGAWjgJqAyaQESIZlliALMltEAMmiqAhkQVdDRgYThfZGRmTBRIkIhnAGIW0UlQxAM00UzFDNHAWjgCQAAECzCTUPTS7mAAAAAElFTkSuQmCC"},56:function(e,a,t){e.exports=t.p+"static/media/powered-by-tmdb.c8a9093d.svg"},57:function(e,a,t){e.exports=t.p+"static/media/github-logo.76d344f0.svg"},58:function(e,a,t){e.exports=t.p+"static/media/sandwich.df862f5a.svg"},59:function(e,a,t){e.exports=t.p+"static/media/list.127a6145.svg"},6:function(e,a,t){e.exports=t.p+"static/media/arrow.a0e061b5.svg"},60:function(e,a,t){e.exports=t.p+"static/media/logo.22a8cf26.png"},61:function(e,a,t){e.exports=t.p+"static/media/search.46bfaa51.svg"},63:function(e,a,t){e.exports=t.p+"static/media/play-button.dcb8568c.svg"},66:function(e,a,t){e.exports=t(129)},71:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){e.exports=t.p+"static/media/history-clock.63eab975.svg"}},[[66,1,2]]]);
//# sourceMappingURL=main.1603b921.chunk.js.map